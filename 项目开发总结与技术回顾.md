# ğŸ¯ é¡¹ç›®å¼€å‘æ€»ç»“ä¸æŠ€æœ¯å›é¡¾

## ğŸ“Š é¡¹ç›®æ¦‚å†µ

**é¡¹ç›®åç§°**: ç°ä»£åŒ–ç¤¾äº¤åª’ä½“å¹³å°  
**å¼€å‘å‘¨æœŸ**: æŒç»­è¿­ä»£å¼€å‘  
**æŠ€æœ¯æ ˆ**: Next.js 14 + TypeScript + Prisma + PostgreSQL  
**ä»£ç è§„æ¨¡**: ~50+ ç»„ä»¶ï¼Œ20+ APIç«¯ç‚¹ï¼Œå®Œæ•´çš„ç”¨æˆ·äº¤äº’ç³»ç»Ÿ

---

## ğŸ† ä¸»è¦æˆå°±

### âœ… å®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½

1. **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ** (100%)
   - JWT + bcryptjså®‰å…¨è®¤è¯
   - ç™»å½•/æ³¨å†Œ/ç™»å‡ºåŠŸèƒ½
   - å¯†ç å¼ºåº¦éªŒè¯
   - ä¼šè¯ç®¡ç†

2. **å†…å®¹å‘å¸ƒç³»ç»Ÿ** (100%)
   - å¤šå›¾ç‰‡ä¸Šä¼ ï¼ˆæœ€å¤š9å¼ ï¼‰
   - æ‹–æ‹½ä¸Šä¼ ä½“éªŒ
   - å›¾ç‰‡é¢„è§ˆå’Œç®¡ç†
   - å†…å®¹é•¿åº¦é™åˆ¶å’ŒéªŒè¯

3. **ç¤¾äº¤äº¤äº’åŠŸèƒ½** (100%)
   - ç‚¹èµ/å–æ¶ˆç‚¹èµï¼ˆä¹è§‚æ›´æ–°ï¼‰
   - è¯„è®ºç³»ç»Ÿ
   - å…³æ³¨/å–æ¶ˆå…³æ³¨
   - ç”¨æˆ·èµ„æ–™é¡µé¢

4. **@æåŠåŠŸèƒ½** (100%)
   - å®æ—¶ç”¨æˆ·æœç´¢
   - é”®ç›˜å¯¼èˆªæ”¯æŒ
   - @ç”¨æˆ·åé«˜äº®æ˜¾ç¤º
   - æ™ºèƒ½é€šçŸ¥æ¨é€

5. **é€šçŸ¥ç³»ç»Ÿ** (100%)
   - å››ç§é€šçŸ¥ç±»å‹ï¼ˆç‚¹èµã€è¯„è®ºã€å…³æ³¨ã€@æåŠï¼‰
   - é€šçŸ¥è®¾ç½®ç®¡ç†
   - æœªè¯»é€šçŸ¥è®¡æ•°
   - å®æ—¶é€šçŸ¥æ›´æ–°

6. **å®‰å…¨é˜²æŠ¤** (100%)
   - XSSæ”»å‡»é˜²æŠ¤
   - è¾“å…¥å†…å®¹è¿‡æ»¤
   - ç”¨æˆ·æƒé™æ§åˆ¶
   - æ•°æ®éªŒè¯å’Œæ¸…ç†

7. **æ€§èƒ½ä¼˜åŒ–** (90%)
   - ä¹è§‚æ›´æ–°ç­–ç•¥
   - å›¾ç‰‡æ‡’åŠ è½½
   - APIè¯·æ±‚é˜²æŠ–
   - ç¼“å­˜ç­–ç•¥å®æ–½

---

## ğŸ›  æŠ€æœ¯éš¾ç‚¹ä¸è§£å†³æ–¹æ¡ˆ

### 1. Next.js è·¯ç”±å†²çªé—®é¢˜

**é—®é¢˜**: `/profile/[id]` å’Œ `/users/[username]` åŠ¨æ€è·¯ç”±å†²çª

**è§£å†³æ–¹æ¡ˆ**:
```typescript
// åˆ é™¤å†²çªè·¯ç”±ï¼Œæ”¹ç”¨APIè§£æ
// /api/users/by-username/[username]/route.ts
export async function GET(request, { params }) {
  const user = await prisma.user.findUnique({
    where: { username: params.username }
  });
  return NextResponse.json({ userId: user.id });
}
```

**æ•™è®­**: Next.js App Routerä¸­åŒçº§åŠ¨æ€è·¯ç”±ä¸èƒ½ä½¿ç”¨ä¸åŒçš„å‚æ•°å

### 2. @æåŠåŠŸèƒ½çš„å®æ—¶æœç´¢ä¼˜åŒ–

**æŒ‘æˆ˜**: ç”¨æˆ·è¾“å…¥æ—¶çš„æœç´¢æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ

**è§£å†³æ–¹æ¡ˆ**:
```typescript
// é˜²æŠ– + ç¼“å­˜ + è¯·æ±‚å–æ¶ˆ
const debouncedSearch = useCallback(
  debounce(async (query: string) => {
    if (abortController.current) {
      abortController.current.abort();
    }
    // ... æœç´¢é€»è¾‘
  }, 300),
  []
);
```

**æ•ˆæœ**: æœç´¢å“åº”æ—¶é—´ < 300msï¼Œç”¨æˆ·ä½“éªŒæµç•…

### 3. ä¹è§‚æ›´æ–°çš„çŠ¶æ€ç®¡ç†

**æŒ‘æˆ˜**: åœ¨ç½‘ç»œè¯·æ±‚å¤±è´¥æ—¶æ­£ç¡®å›æ»šUIçŠ¶æ€

**è§£å†³æ–¹æ¡ˆ**:
```typescript
const handleLike = async () => {
  // 1. ç«‹å³æ›´æ–°UI
  setHasLiked(prev => !prev);
  setLikesCount(prev => prev + (hasLiked ? -1 : 1));
  
  try {
    // 2. å‘é€è¯·æ±‚
    await toggleLike(postId);
  } catch (error) {
    // 3. å¤±è´¥æ—¶å›æ»š
    setHasLiked(prev => !prev);
    setLikesCount(originalCount);
  }
};
```

**æ•ˆæœ**: ç”¨æˆ·æ„ŸçŸ¥çš„å“åº”æ—¶é—´ä»1-2ç§’é™ä½åˆ°å³æ—¶å“åº”

### 4. XSSé˜²æŠ¤çš„å®ç°

**æŒ‘æˆ˜**: åœ¨ä¸å½±å“ç”¨æˆ·ä½“éªŒçš„å‰æä¸‹å®ç°å®‰å…¨é˜²æŠ¤

**è§£å†³æ–¹æ¡ˆ**:
```typescript
// å¤šå±‚é˜²æŠ¤ç­–ç•¥
export function detectXSS(input: string): boolean {
  const xssPatterns = [
    /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
    /javascript:/gi,
    /on\w+\s*=/gi,
    // ... æ›´å¤šæ¨¡å¼
  ];
  return xssPatterns.some(pattern => pattern.test(input));
}
```

**æ•ˆæœ**: é˜»æ­¢äº†å¸¸è§çš„XSSæ”»å‡»å‘é‡ï¼ŒåŒæ—¶ä¿æŒè‰¯å¥½çš„ç”¨æˆ·ä½“éªŒ

### 5. Prismaç±»å‹å®‰å…¨é›†æˆ

**æŒ‘æˆ˜**: ç¡®ä¿æ•°æ®åº“æ“ä½œçš„ç±»å‹å®‰å…¨

**è§£å†³æ–¹æ¡ˆ**:
```typescript
// ç»Ÿä¸€ç±»å‹å®šä¹‰
type Posts = Awaited<ReturnType<typeof getPosts>>;
type Post = Posts[number];

// ç±»å‹å®‰å…¨çš„æŸ¥è¯¢
export async function getPosts() {
  return await prisma.post.findMany({
    include: {
      author: { select: { id: true, username: true, name: true, image: true } },
      _count: { select: { likes: true, comments: true } }
    }
  });
}
```

**æ•ˆæœ**: ç¼–è¯‘æ—¶å‘ç°ç±»å‹é”™è¯¯ï¼Œè¿è¡Œæ—¶ç±»å‹å®‰å…¨ä¿éšœ

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–æˆæœ

### 1. é¡µé¢åŠ è½½æ€§èƒ½
- **é¦–å±æ¸²æŸ“**: < 1.5s
- **äº¤äº’å“åº”**: < 100ms (ä¹è§‚æ›´æ–°)
- **å›¾ç‰‡åŠ è½½**: æ‡’åŠ è½½ + é¢„åŠ è½½å…³é”®å›¾ç‰‡

### 2. ç½‘ç»œä¼˜åŒ–
- **APIè¯·æ±‚**: é˜²æŠ–å‡å°‘50%æ— æ•ˆè¯·æ±‚
- **ç¼“å­˜ç­–ç•¥**: é€‚å½“çš„ISRå’Œå®¢æˆ·ç«¯ç¼“å­˜
- **æ•°æ®ä¼ è¾“**: é€‰æ‹©æ€§å­—æ®µæŸ¥è¯¢å‡å°‘æ•°æ®é‡

### 3. ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- **åŠ è½½çŠ¶æ€**: å…¨é¢çš„loadingå’Œskeletonå±
- **é”™è¯¯å¤„ç†**: å‹å¥½çš„é”™è¯¯æç¤ºå’Œé‡è¯•æœºåˆ¶
- **äº¤äº’åé¦ˆ**: å³æ—¶çš„è§†è§‰åé¦ˆå’ŒçŠ¶æ€æ›´æ–°

---

## ğŸ¨ è®¾è®¡ç³»ç»Ÿæˆæœ

### 1. é¢œè‰²ç³»ç»Ÿ
```css
/* åŠŸèƒ½æ€§é¢œè‰²åˆ†é… */
--like-color: #ef4444;     /* çº¢è‰² - ç‚¹èµ */
--comment-color: #3b82f6;  /* è“è‰² - è¯„è®º */
--follow-color: #10b981;   /* ç»¿è‰² - å…³æ³¨ */
--mention-color: #8b5cf6;  /* ç´«è‰² - @æåŠ */
```

### 2. ç»„ä»¶ä¸€è‡´æ€§
- ç»Ÿä¸€çš„æŒ‰é’®æ ·å¼å’Œäº¤äº’çŠ¶æ€
- ä¸€è‡´çš„å¡ç‰‡å¸ƒå±€å’Œé—´è·
- æ ‡å‡†åŒ–çš„è¡¨å•ç»„ä»¶å’ŒéªŒè¯

### 3. å“åº”å¼è®¾è®¡
- ç§»åŠ¨ç«¯ä¼˜å…ˆçš„è®¾è®¡ç†å¿µ
- æµç•…çš„æ–­ç‚¹åˆ‡æ¢
- è§¦æ‘¸å‹å¥½çš„äº¤äº’è®¾è®¡

---

## ğŸ”„ çŠ¶æ€ç®¡ç†æ¶æ„åˆ†æ

### å½“å‰æ–¹æ¡ˆï¼šReact Context

**ä¼˜åŠ¿**:
- âœ… å­¦ä¹ æˆæœ¬ä½ï¼Œå›¢é˜Ÿå®¹æ˜“ä¸Šæ‰‹
- âœ… ä¸Next.js SSRå®Œç¾é›†æˆ
- âœ… æ— é¢å¤–ä¾èµ–ï¼Œå‡å°‘bundleå¤§å°
- âœ… ç±»å‹å®‰å…¨ï¼ŒTypeScriptæ”¯æŒè‰¯å¥½

**å±€é™æ€§**:
- âš ï¸ å¤§è§„æ¨¡çŠ¶æ€æ—¶æ€§èƒ½å¯èƒ½ä¸‹é™
- âš ï¸ ç¼ºä¹æ—¶é—´æ—…è¡Œè°ƒè¯•
- âš ï¸ å¼‚æ­¥çŠ¶æ€ç®¡ç†ç›¸å¯¹å¤æ‚

### Redux Toolkitè¿ç§»æ–¹æ¡ˆ

**é€‚ç”¨åœºæ™¯**:
- å›¢é˜Ÿè§„æ¨¡æ‰©å¤§ï¼Œéœ€è¦æ›´æ ‡å‡†åŒ–çš„çŠ¶æ€ç®¡ç†
- çŠ¶æ€å¤æ‚åº¦å¢é•¿ï¼Œéœ€è¦æ›´å¥½çš„è°ƒè¯•å·¥å…·
- æ€§èƒ½è¦æ±‚æå‡ï¼Œéœ€è¦æ›´ç»†ç²’åº¦çš„æ›´æ–°æ§åˆ¶

**è¿ç§»æ”¶ç›Š**:
- ğŸ¯ æ›´å¥½çš„å¼€å‘è€…ä½“éªŒï¼ˆRedux DevToolsï¼‰
- ğŸ¯ æ›´é¢„æµ‹çš„çŠ¶æ€å˜æ›´æµç¨‹
- ğŸ¯ æ›´å¥½çš„æ€§èƒ½æ§åˆ¶ï¼ˆé€‰æ‹©å™¨ä¼˜åŒ–ï¼‰
- ğŸ¯ æ›´é€‚åˆå¤§å‹å›¢é˜Ÿåä½œ

---

## ğŸ“š ä»£ç è´¨é‡ä¿éšœ

### 1. TypeScriptè¦†ç›–ç‡
- **è¦†ç›–ç‡**: 95%+
- **ä¸¥æ ¼æ¨¡å¼**: å¯ç”¨æ‰€æœ‰ä¸¥æ ¼æ£€æŸ¥
- **ç±»å‹å®šä¹‰**: å®Œæ•´çš„ä¸šåŠ¡æ¨¡å‹ç±»å‹

### 2. é”™è¯¯å¤„ç†
- **APIé”™è¯¯**: ç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼
- **ç½‘ç»œé”™è¯¯**: è‡ªåŠ¨é‡è¯•å’Œé™çº§ç­–ç•¥
- **ç”¨æˆ·é”™è¯¯**: å‹å¥½çš„é”™è¯¯æç¤º

### 3. å®‰å…¨å®è·µ
- **è¾“å…¥éªŒè¯**: å®¢æˆ·ç«¯ + æœåŠ¡ç«¯åŒé‡éªŒè¯
- **æƒé™æ§åˆ¶**: APIçº§åˆ«çš„æƒé™æ£€æŸ¥
- **æ•°æ®æ¸…ç†**: ç”¨æˆ·è¾“å…¥çš„å®‰å…¨è¿‡æ»¤

---

## ğŸ¯ é¡¹ç›®äº®ç‚¹æ€»ç»“

### 1. æŠ€æœ¯åˆ›æ–°
- **@æåŠç³»ç»Ÿ**: ä»é›¶å®ç°å®Œæ•´çš„ç”¨æˆ·æåŠåŠŸèƒ½
- **ä¹è§‚æ›´æ–°**: æå‡ç”¨æˆ·ä½“éªŒçš„äº¤äº’ä¼˜åŒ–
- **å®‰å…¨é˜²æŠ¤**: å…¨é¢çš„XSSå’Œå®‰å…¨å¨èƒé˜²æŠ¤

### 2. ç”¨æˆ·ä½“éªŒ
- **å“åº”é€Ÿåº¦**: å¤šå±‚ç¼“å­˜å’Œä¼˜åŒ–ç­–ç•¥
- **äº¤äº’è®¾è®¡**: ç°ä»£åŒ–çš„UI/UXè®¾è®¡
- **æ— éšœç¢æ€§**: é”®ç›˜å¯¼èˆªå’Œå±å¹•é˜…è¯»å™¨æ”¯æŒ

### 3. å¼€å‘æ•ˆç‡
- **ç»„ä»¶å¤ç”¨**: é«˜åº¦æ¨¡å—åŒ–çš„ç»„ä»¶è®¾è®¡
- **ç±»å‹å®‰å…¨**: TypeScriptå¸¦æ¥çš„å¼€å‘ä¿éšœ
- **æ–‡æ¡£å®Œå–„**: è¯¦ç»†çš„æŠ€æœ¯æ–‡æ¡£å’Œä»£ç æ³¨é‡Š

---

## ğŸš€ æœªæ¥è§„åˆ’

### çŸ­æœŸä¼˜åŒ– (1-2ä¸ªæœˆ)
- [ ] å®æ—¶WebSocketé€šçŸ¥ç³»ç»Ÿ
- [ ] æ›´å¤šå¯Œæ–‡æœ¬ç¼–è¾‘åŠŸèƒ½
- [ ] ç§»åŠ¨ç«¯PWAæ”¯æŒ

### ä¸­æœŸæ‰©å±• (3-6ä¸ªæœˆ)
- [ ] ç¾¤ç»„/ç¤¾åŒºåŠŸèƒ½
- [ ] å†…å®¹æ¨èç®—æ³•
- [ ] é«˜çº§æœç´¢åŠŸèƒ½

### é•¿æœŸæ„¿æ™¯ (6ä¸ªæœˆ+)
- [ ] å¾®æœåŠ¡æ¶æ„æ‹†åˆ†
- [ ] å†…å®¹å®¡æ ¸ç³»ç»Ÿ
- [ ] å›½é™…åŒ–æ”¯æŒ

---

## ğŸ’¡ ç»éªŒæ€»ç»“

### æŠ€æœ¯é€‰å‹ç»éªŒ
1. **Next.js 14**: App Routerå¸¦æ¥çš„å¼€å‘ä½“éªŒæå‡æ˜¾è‘—
2. **Prisma**: ç±»å‹å®‰å…¨çš„ORMå¤§å¤§å‡å°‘äº†æ•°æ®åº“ç›¸å…³bug
3. **Tailwind CSS**: æå‡äº†æ ·å¼å¼€å‘æ•ˆç‡
4. **TypeScript**: åœ¨é¡¹ç›®è§„æ¨¡å¢é•¿æ—¶å‘æŒ¥é‡è¦ä½œç”¨

### å¼€å‘æµç¨‹ç»éªŒ
1. **æ¸è¿›å¼å¼€å‘**: ä»MVPåˆ°å®Œæ•´åŠŸèƒ½çš„è¿­ä»£å¼€å‘ç­–ç•¥
2. **ç”¨æˆ·åé¦ˆ**: æ—©æœŸç”¨æˆ·æµ‹è¯•å¸®åŠ©å‘ç°å…³é”®é—®é¢˜
3. **æ€§èƒ½ç›‘æ§**: æŒç»­çš„æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–

### å›¢é˜Ÿåä½œç»éªŒ
1. **ä»£ç è§„èŒƒ**: ç»Ÿä¸€çš„ä»£ç é£æ ¼å’Œæäº¤è§„èŒƒ
2. **æ–‡æ¡£ç»´æŠ¤**: åŠæ—¶æ›´æ–°çš„æŠ€æœ¯æ–‡æ¡£
3. **çŸ¥è¯†åˆ†äº«**: å®šæœŸçš„æŠ€æœ¯åˆ†äº«å’Œè®¨è®º

---

è¿™ä¸ªé¡¹ç›®å±•ç¤ºäº†ç°ä»£Webå¼€å‘çš„æœ€ä½³å®è·µï¼Œä»æŠ€æœ¯é€‰å‹åˆ°ç”¨æˆ·ä½“éªŒï¼Œä»å®‰å…¨é˜²æŠ¤åˆ°æ€§èƒ½ä¼˜åŒ–ï¼Œæ¶µç›–äº†å…¨æ ˆå¼€å‘çš„å„ä¸ªæ–¹é¢ã€‚æ— è®ºæ˜¯ä½œä¸ºå­¦ä¹ é¡¹ç›®è¿˜æ˜¯ç”Ÿäº§åº”ç”¨ï¼Œéƒ½å…·æœ‰å¾ˆé«˜çš„å‚è€ƒä»·å€¼ã€‚
